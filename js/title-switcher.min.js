function displayCursor(){$typingSurface=$("."+typeSurface),blinkOn?$typingSurface.html($typingSurface.html()+'<span style="font-weight: normal">&#124;</span>'):$.browser.msie?$typingSurface.html($typingSurface.html().slice(0,-43)):$typingSurface.html($typingSurface.html().slice(0,-42)),blinkOn=!blinkOn}var isSwitching=!1,currentTitle="displayTitle",typeSurface="typeSurface",blinkOn=!0;$("."+currentTitle).parent().click(function(){isSwitching?$("."+currentTitle).switchTitle(!1):($("."+typeSurface).hide(),$("."+currentTitle).show(),isSwitching=!0)}),$.fn.typeImitator=function(t){var e=this,i=$("."+typeSurface);defaults={textTypeDelay:50},settings=$.extend(defaults,t),count=0,blinkOn=!0;var s=setInterval("displayCursor()",600);if(!isSwitching){i.empty(),$originalTitle=e.html(),this.$items=this.parent().children();for(var n=1;n<=this.$items.length;++n)this.$items.eq(n).hide();i.show(),setTimeout(function(){clearInterval(s),i.empty(),i.html(i.html()+'<span style="font-weight: normal">&#124;</span>'),$.each(settings.text.split(""),function(t,e){setTimeout(function(){$.browser.msie?i.html(i.html().slice(0,-43)):i.html(i.html().slice(0,-42)),i.html(i.html()+e+'<span style="font-weight: normal">&#124;</span>'),t>=settings.text.split("").length-1&&i.html($originalTitle)},settings.textTypeDelay*t)})},2e3),setTimeout(function(){isSwitching=!1,clearInterval(s),e.switchTitle(settings.isRandom)},settings.textTypeDelay*settings.text.split("").length*2+2e3)}},$.fn.switchTitle=function(t){var e=this,i=0,s=0,n=0;if(e.hide(),this.$items=this.parent().children(),this.$items.length>2){for(var l=0;l<this.$items.length;++l)if(this.$items.eq(l).hasClass(typeSurface)){n=l;break}for(l=0;l<this.$items.length;++l)if(l!==n){i=l;break}do s=Math.round(Math.random()*this.$items.length);while(s===n||i>s||s>=this.$items.length);for(var l=i;l<this.$items.length;++l)if(this.$items.eq(l).hasClass(currentTitle)){this.$items.eq(l).removeClass(currentTitle),s!==l&&t?this.$items.eq(s).addClass(currentTitle):l>=this.$items.length-1?this.$items.eq(i).addClass(currentTitle):l+1===n?l+2>=this.$items.length-1?this.$items.eq(i).addClass(currentTitle):this.$items.eq(l+2).addClass(currentTitle):this.$items.eq(l+1).addClass(currentTitle),that=$("."+currentTitle).show();break}}isSwitching||that.runTitles(t)},$.fn.runTitles=function(t){var e=this,i=e.text();e.typeImitator({textTypeDelay:100,text:i,isRandom:t})},$(function(){var t=!0;this.$items=$("."+currentTitle).parent().children(),this.$items.eq(0).clone().prependTo($("."+currentTitle).parent()).addClass(typeSurface),$("."+typeSurface).removeClass(currentTitle),$("."+typeSurface).empty(),t?$("."+currentTitle).switchTitle(t):$("."+currentTitle).runTitles(t)});